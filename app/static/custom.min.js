$(document).ready(function(){$(".ui.dropdown").dropdown();$(".config.item").click(function(){var a=$(this).html();load_config(a)});$("#domains").click(function(){load_domains()});$("#add_domain").on("keyup",function(a){13===a.keyCode&&add_domain()});load_domains()});function load_domains(){$.when(fetch_html("api/domains")).then(function(){$("#domain").hide();$("#domain_cards").fadeIn()})}
function add_domain(){var a=$("#add_domain").val();a&&($("#add_domain").val(""),document.activeElement.blur(),$.ajax({type:"POST",url:"/api/domain/"+a,statusCode:{201:function(){fetch_domain(a)}}}))}function enable_domain(a,b){$.ajax({type:"POST",url:"/api/domain/"+a+"/enable",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({enable:b}),statusCode:{200:function(){fetch_domain(a)}}})}
function update_domain(a){var b=$("#file-content").val();$("#dimmer").addClass("active");$.ajax({type:"PUT",url:"/api/domain/"+a,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({file:b}),statusCode:{200:function(){setTimeout(function(){fetch_domain(a)},400)}}})}function fetch_domain(a){fetch("api/domain/"+a).then(function(b){b.text().then(function(c){$("#domain").html(c).fadeIn();$("#domain_cards").hide()})})["catch"](function(b){console.error(b)})}
function remove_domain(a){$.ajax({type:"DELETE",url:"/api/domain/"+a,statusCode:{200:function(){load_domains()},400:function(){alert("Deleting not possible")}}})}function fetch_html(a){fetch(a).then(function(b){b.text().then(function(c){$("#content").html(c)})})["catch"](function(b){console.error(b)})}
function update_config(a){var b=$("#file-content").val();$("#dimmer").addClass("active");$.ajax({type:"POST",url:"/api/config/"+a,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({file:b}),statusCode:{200:function(){setTimeout(function(){$("#dimmer").removeClass("active")},450)}}})}function load_config(a){fetch("api/config/"+a).then(function(b){b.text().then(function(c){$("#content").html(c)})})["catch"](function(b){console.error(b)})};